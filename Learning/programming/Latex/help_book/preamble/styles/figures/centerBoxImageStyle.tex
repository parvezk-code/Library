% usepackage :  xparse(NewDocumentEnvironment), graphicx(includegraphics), 
%               subfiles(subfix), caption

\NewDocumentEnvironment{centerBoxImageStyle}{ m m m O{} O{} }
{
\begin{center}
  \fbox{%
    \begin{minipage}{#2}
      \centering
      \includegraphics[width=#3]{#1}%
      % Optional caption and label
      \IfNoValueF{#4}{\captionof{figure}{#4}}%
      \IfNoValueF{#5}{\label{#5}}%
    \end{minipage}%
  }
\end{center}
}{}


\begin{comment}

	\begin{centerBoxImageStyle}
        {\subfix{example_codes/img_02.jpg}}     % #1 image path
        {0.6\linewidth}                         % #2 minipage width (box width)
        {0.9\linewidth}                         % #3 image width inside box
        {A simple example image inside a box.}  % #4 caption
        {fig:simple_boxed_image}                % #5 label
    \end{centerBoxImageStyle}

\end{comment}