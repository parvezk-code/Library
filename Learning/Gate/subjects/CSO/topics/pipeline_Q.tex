
\centerline{\textbf{ \LARGE Pipeline }}

\begin{questyle}
  \question  Comparing the time T1 taken for a single instruction on a pipelined CPU with time
            T2 taken on a nonÂ­ pipelined but identical CPU, we can say that  (GATE-2000)

  \begin{oneparchoices}
    \choice         T1 \textless= T2
    \CorrectChoice  T1 \textgreater= T2
    \choice         T1 \textless T2
    \choice         T1 = T2 + fetch time for one instruction
  \end{oneparchoices}
  \\ Hint : T1 = T2 + buffer delay
\end{questyle}


\begin{questyle}
  \question  A 4-stage pipeline has the stage delays as 150, 120, 160 and 140 nanoseconds respectively.
            Registers that are used between the stages have a delay of 5 nanoseconds each. Assuming
            constant clocking rate, the total time taken to process 1000 data items on this pipeline will be  (GATE-2004)

  \begin{oneparchoices}
    \choice         120.4 ms
    \choice         160.5 ms
    \CorrectChoice  165.5 ms
    \choice         590.0 ms
  \end{oneparchoices}
  \\ Hint : time = (k + (n-1))(160+5)
\end{questyle}


\begin{questyle}
  \question  A 5 stage pipelined CPU has the following sequence of stages:  (GATE-2005)
  \begin{enumerate}
    \item[IF-] Instruction fetch from instruction memory,
    \item[RD-] Instruction decode and register read
    \item[Ex-] Execute ALU operation for data and address computation
    \item[MA-] Data memory access - for write access, the register read
     at RD stage is used
     \item[WB] Register write back.
  \end{enumerate}
  Consider the following sequence of instructions. What is the number of clock cycles taken to complete the above sequence of instructions starting from the fetch of I1 ?
  \begin{enumerate}
    \item[I1:] \quad L R0, Loc1; \quad R0 \textless= M[Loc1]
    \item[I2:] \quad A R0, R0; \quad \; \; R0 \textless= R0 + R0
    \item[I3:] \quad S R2, R0; \quad \; \; R2 \textless= R2 - R0
  \end{enumerate}

  \begin{oneparchoices}
    \CorrectChoice  8
    \choice         10
    \choice         12
    \choice         15
  \end{oneparchoices} \\
  Hint : I2 needs 1 bubble. Total cycles = \quad k + (n-1) + b = \quad 5 +(3-1) + 1 = 8 cycles
\end{questyle}

\begin{questyle}
  \question  A CPU has a five-stage pipeline and runs at 1 GHz frequency. Instruction fetch happens
             in the first stage of the pipeline. A conditional branch instruction computes the target
             address and evaluates the condition in the third stage of the pipeline. The processor stops
             fetching new instructions following a conditional branch until the branch outcome is known.
             A program executes 109 instructions out of which 20% are conditional branches. If each
             instruction takes one cycle to complete on average, the total execution time of the program is  (GATE-2006)
  \begin{oneparchoices} \\
    \choice         1.0 seconds
    \choice         1.2 seconds
    \CorrectChoice  1.4 seconds
    \choice         1.6 seconds
  \end{oneparchoices}\\
  Hint : Average cycles needed(\(T_c\)) = 0.8(1) + 0.2(3), 2 bubbles implies branch instruction will take 3 cycles.
  Hint : Total time = \(T_c\) * \(10^9\) / \(10^9\) = 1.4 * \(10^9\) / \(10^9\) = 1.4
\end{questyle}

\begin{questyle}
  \question  Consider a pipelined processor with the following four stages. (GATE-2007)

  \begin{enumerate}
    \item[IF] Instruction Fetch
    \item[ID] Instruction Decode and Operand Fetch
    \item[Ex] Execute
    \item[WB] Write Back
  \end{enumerate}
  The IF, ID and WB stages take one clock cycle each to complete the operation. The number of clock
  cycles for the EX stage dependson the instruction. The ADD and SUB instructions need 1 clock cycle
  and the MUL instruction needs 3 clock cycles in the EX stage. Operand forwarding is used in the
  pipelined processor. What is the number of clock cycles taken to complete the following
  sequence of instructions?

  \begin{enumerate}
    \item[ADD] R2, R1, R0 \qquad R2 \(\leftarrow\) R0 + R1
    \item[MUL] R4, R3, R2 \qquad R4 \(\leftarrow\) R3 * R2
    \item[SUB] R6, R5, R4 \qquad R6 \(\leftarrow\) R5 - R4
  \end{enumerate}

  \begin{oneparchoices}
    \choice         7
    \CorrectChoice  8
    \choice         10
    \choice         14
  \end{oneparchoices} \\
  Hint : Total cycles  = \quad k + (n-1) + c = \quad4 + (3-1) + 2 = \quad 8 cycles
\end{questyle}

\begin{questyle}
  \question Consider a 4 stage pipeline processor.   The number of cycles needed by the four
             instructions I1, I2, I3, I4 in stages S1, S2, S3, S4 is shown below. What is the number of cycles needed to execute the loop - for(i=1 to 2) {I1; I2; I3; I4;}?

             \begin{myTableStyle} \begin{tabular}{ |m{1cm}|m{1cm}|m{1cm}|m{1cm}|m{1cm}| } \hline
                   & S1 & S2 & S3 & S4 \\ \hline
                I1 & 2  & 1  & 1  & 1  \\ \hline
                I2 & 1  & 3  & 2  & 2  \\ \hline
                I3 & 2  & 1  & 1  & 3  \\ \hline
                I4 & 1  & 2  & 2  & 2  \\ \hline
              \end{tabular} \end{myTableStyle} \vspace{0.08in}

  \begin{oneparchoices}
    \choice         16
    \CorrectChoice  23
    \choice         28
    \choice         30
  \end{oneparchoices} \\  Hint : \quad S[ i ] [ j ] = max( top, left ) + stage\_time \\

   \begin{myTableStyle} \begin{tabular}{ |m{1cm}|m{1cm}|m{1cm}|m{1cm}|m{1cm}| } \hline
                   & S1 & S2 & S3  & S4 \\ \hline
                I1 & 2  & 3  & 4   & 5  \\ \hline
                I2 & 3  & 6  & 8   & 10  \\ \hline
                I3 & 5  & 7  & 9   & 13  \\ \hline
                I4 & 6  & 9  & 11  & 15  \\ \hline
                I1 & 8  & 10 & 12  & 16  \\ \hline
                I2 & 9  & 13 & 15  & 18  \\ \hline
                I3 & 11 & 14 & 16  & 21  \\ \hline
                I4 & 12 & 16 & 18  & 23  \\ \hline
              \end{tabular} \end{myTableStyle} \vspace{0.08in}

\end{questyle}


\begin{questyle}
  \question  A 5-stage pipelined processor has Instruction Fetch(IF),Instruction Decode(ID),Operand
             Fetch(OF),Perform Operation(PO)and Write Operand(WO)stages.The IF,ID,OF and WO stages
             take 1 clock cycle each for any instruction.The PO stage takes 1 clock cycle for ADD
             and SUB instructions,3 clock cycles for MUL instruction,and 6 clock cycles for DIV
             instruction respectively.Operand forwarding is used in the pipeline.What is the number
             of clock cycles needed to execute the following sequence of instructions?  (GATE-2010)

  \begin{enumerate}
    \item[I0] \quad MUL R2 ,R0 ,R1 \qquad R2 \(\leftarrow\) R0 * R1
    \item[I1] \quad DIV R5 ,R3 ,R4  \qquad R5 \(\leftarrow\) R3 / R4
    \item[I2] \quad ADD R2 ,R5 ,R2 \qquad R2 \(\leftarrow\) R5 + R2
    \item[I3] \quad SUB R5 ,R2 ,R6 \qquad R5 \(\leftarrow\) R2 - R6
  \end{enumerate}

  \begin{oneparchoices}
    \choice         13
    \CorrectChoice  15
    \choice         17
    \choice         19
  \end{oneparchoices} \\
  Hint : No bubbles because of operator forwarding and no Load/Store instruction. \\
  Hint : Only one stage(Ex) has different cycles. So following formula can be applied.\\
  Hint : TC = \; k + (n-1) + extra\_cycles = \; 5 + (4-1) + (2+5) = \; 15
\end{questyle}


\begin{comment}


\begin{questyle}
  \question  zzz  (GATE-zzz)

  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}

\begin{questyle}
  \question  zzz  (GATE-zzz)

  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}


  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}

\begin{questyle}
  \question  zzz  (GATE-zzz)

  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}

\begin{questyle}
  \question  zzz  (GATE-zzz)

  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}


  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}

\begin{questyle}
  \question  zzz  (GATE-zzz)

  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}

\begin{questyle}
  \question  zzz  (GATE-zzz)

  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}


  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}

\begin{questyle}
  \question  zzz  (GATE-zzz)

  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}

\begin{questyle}
  \question  zzz  (GATE-zzz)

  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}


  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}

\begin{questyle}
  \question  zzz  (GATE-zzz)

  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}

\begin{questyle}
  \question  zzz  (GATE-zzz)

  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}


  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}

\begin{questyle}
  \question  zzz  (GATE-zzz)

  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}

\begin{questyle}
  \question  zzz  (GATE-zzz)

  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}


  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}

\begin{questyle}
  \question  zzz  (GATE-zzz)

  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}

\begin{questyle}
  \question  zzz  (GATE-zzz)

  \begin{choices}
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \choice         zzz
    \CorrectChoice
  \end{choices}
\end{questyle}


\end{comment}


