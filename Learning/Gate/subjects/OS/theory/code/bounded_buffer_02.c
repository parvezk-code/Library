while(1)
{
    P(full)
    P(mutex)
    # produce an item
    V(mutex)
    V(empty)
}
