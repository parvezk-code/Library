while(1)
{
    P(empty)
    P(mutex)
    # produce an item
    V(mutex)
    V(full)
}
