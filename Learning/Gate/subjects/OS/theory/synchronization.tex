
\centerline{\textbf{ \LARGE Synchronization}}


% ----------------------------------------------------------------------------


\begin{enumerate}

  \item Critical Section is part of a program where a process manipulates shared variables.
  \item Correct Solution
  \begin{enumerate}
    \item Mutual exclusion : no 2 processes can be in critical sections simultaneously.
    \item Progress : only competing processes(not in CS or Remainder) are considered for decision as to who goes next.
          If CS is free then process in remainder section should not be making decision or blocking those who want to enter CS.
    \item Bounded wait(no starvation) : there is bound on number of times a process is bypassed by another process after
          it has indicated its desire to enter the critical section
    \item If there is deadlock then there is no progress.
  \end{enumerate}

  \item Turn Variable:
  \begin{enumerate}
    \item Only for 2 process.
    \item strict alternation.
    \ item shared variable - turn
    \item while( not\_my\_turn ) do-nothing;
  \end{enumerate}
      \begin{myTableStyle}
        \begin{tabular}{ |m{5cm}|m{5cm}| } \hline
            \lstinputlisting[language=Octave]{./code/turnVariable_01.c}   &     \lstinputlisting[language=Octave]{./code/turnVariable_02.c}   \\ \hline
        \end{tabular}
      \end{myTableStyle}
      \vspace{0.08in}

  \item Peterson's Solution:
  \begin{enumerate}
    \item Only for 2 process.
    \item No alternation.
    \item shared variable - turn, flag
    \item while( not\_my\_turn and other\_wants\_to\_go ) do-nothing;
  \end{enumerate}
      \begin{myTableStyle}
        \begin{tabular}{ |m{6cm}|m{6cm}| } \hline
            \lstinputlisting[language=Octave]{./code/peterson_01.c}   &   \lstinputlisting[language=Octave]{./code/peterson_02.c}   \\ \hline
        \end{tabular}
      \end{myTableStyle}
      \vspace{0.08in}

 \begin{minipage}{\linewidth}
  \item Binary Semaphore : work for many process. \\
      \begin{myTableStyle}
        \begin{tabular}{ |m{4.5cm}|m{5cm}|m{3.5cm}| } \hline
            \lstinputlisting[language=Octave]{./code/semaphore_01_wait.c}   &
            \lstinputlisting[language=Octave]{./code/semaphore_01_signal.c} &
            \lstinputlisting[language=Octave]{./code/semaphore_01.c} \\ \hline
        \end{tabular}
      \end{myTableStyle}
      \vspace{0.08in}
  \begin{enumerate}
    \item Value of S can be 0 or 1.
    \item if( s == 1 ) then no   process is in CS
    \item if( s == 0 ) then one process is in CS
    \item Drawback :
    \begin{enumerate}
      \item Busy waiting, wasting cpu cycles because of the while loop.
      \item Priority inversion.
  \end{enumerate}
  \item Counting semaphore
  \begin{enumerate}
    \item Can take values other than 0, 1.
    \item if( s=5 ) then 5 processes can enter CS.
  \end{enumerate}
  \end{enumerate}
  \end{minipage}
  \vspace{0.08in}

  \item Reader Writer Problem
  \begin{enumerate}
    \item Multiple reads can be performed parallelly.
    \item Two semaphore are needed
      \begin{enumerate}
        \item wrt : for resource access
        \item mutex: for access to readCount variable.
      \end{enumerate}
      \item First reader will wait for the writer to exit. Last reader will signal the writer. \\
      \begin{myTableStyle}
        \begin{tabular}{ |m{4cm}|m{4cm}|m{6cm}| } \hline
            \lstinputlisting[language=Octave]{./code/reader_writer_01.c}   &
            \lstinputlisting[language=Octave]{./code/reader_writer_03.c}   &
            \lstinputlisting[language=Octave]{./code/reader_writer_02.c} \\ \hline
        \end{tabular}
      \end{myTableStyle}
      \vspace{0.08in}
  \end{enumerate}

 \begin{minipage}{\linewidth}
  \item Bounded Buffer : Producer and Consumer
    \begin{enumerate}
      \item order of P() operation is very important. Otherwise dead-lock can happen.
    \end{enumerate}
      \begin{myTableStyle}
        \begin{tabular}{ |m{4.5cm}|m{5cm}| } \hline
            \lstinputlisting[language=Octave]{./code/bounded_buffer_01.c}   &
            \lstinputlisting[language=Octave]{./code/bounded_buffer_02.c}  \\ \hline
        \end{tabular}
      \end{myTableStyle}
      \vspace{0.08in}
  \end{minipage}
  \vspace{0.08in}

 \begin{minipage}{\linewidth}
  \item Hardware approach for synchronization
    \begin{enumerate}
      \item Test\_And\_Set :
      \item Swap :
      \item Lock\_And\_Unlock :
    \end{enumerate}
      \begin{myTableStyle}
        \begin{tabular}{ |m{6cm}|m{5cm}| } \hline
            \lstinputlisting[language=Octave]{./code/test_and_set_01.c}   &
            \lstinputlisting[language=Octave]{./code/test_and_set_02.c}  \\ \hline
            \lstinputlisting[language=Octave]{./code/swap_01.c}   &
            \lstinputlisting[language=Octave]{./code/swap_02.c}  \\ \hline
        \end{tabular}
      \end{myTableStyle}
      \vspace{0.08in}
  \end{minipage}
  \vspace{0.08in}




\end{enumerate}

% ----------------------------------------------------------------------------

% ----------------------------------------------------------------------------

% ----------------------------------------------------------------------------

% ----------------------------------------------------------------------------

% ----------------------------------------------------------------------------

% ----------------------------------------------------------------------------

% ----------------------------------------------------------------------------

% ----------------------------------------------------------------------------
